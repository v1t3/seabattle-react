(window["webpackJsonpseabattle-app"]=window["webpackJsonpseabattle-app"]||[]).push([[0],{12:function(e,t,a){e.exports=a(21)},17:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),i=a(10),n=a(11),o=a(1),c=a(2),l=a(4),p=a(3),h=a(5),u=(a(17),a(18),a(6)),m=a.n(u),d=a(8),f=a(7),S=(a(20),function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={shipMatrix:[],hits:0,decks:a.props.decks,x:a.props.x,y:a.props.y},a.createShip=function(){try{for(var e=this.props,t=e.dir,a=e.decks,s=e.x,r=e.y,i=e.player,n=0;n<a;)this.props.matrix[s+n*t][r+n*!t]=1,this.state.shipMatrix.push([s+n*t,r+n*!t]),n++;this.props.flot.push(this),"user1"===i&&this.showShip(),10===this.props.flot.length&&"user1"===i&&(document.querySelector(".start-btn").setAttribute("data-hidden","false"),document.querySelector("#play").setAttribute("data-hidden","false"))}catch(o){console.error(o)}},a.showShip=function(){try{var e=this.props,t=e.dir,a=e.shipname,s=e.x,r=e.y,i=e.shipSize,n=document.createElement("div"),o=1===t?" vertical":"",c=a.slice(0,-1);n.setAttribute("id",a),n.className="ship "+c+o,n.style.cssText="left: ".concat(r*i,"px; \n                           top: ").concat(s*i,"px;"),this.props.field.appendChild(n)}catch(l){console.error(l)}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),t}(s.Component)),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={matrix:[]},a.getCoordinatesDecks=function(e){try{var t,a,s=this.getRandom(1);return 0===s?(t=this.getRandom(9),a=this.getRandom(10-e)):(t=this.getRandom(10-e),a=this.getRandom(9)),this.checkLocationShip(t,a,s,e)?{x:t,y:a,dir:s}:this.getCoordinatesDecks(e)}catch(r){console.error(r)}},a.checkLocationShip=function(e,t,a,s){try{var r,i,n;i=0===t?t:t-1,1===a?(r=e+s===10?e+s:e+s+1,n=9===t?t+1:t+2):(r=9===e?e+1:e+2,n=t+s===10?t+s:t+s+1);for(var o=0===e?e:e-1;o<r;o++)for(var c=i;c<n;c++)if(1===this.state.matrix[o][c])return!1;return!0}catch(l){console.error(l)}},a.cleanField=function(){try{var e=this.props.field,t=e.getAttribute("id"),a=document.querySelectorAll("#".concat(t," > div")),s=!0,r=!1,i=void 0;try{for(var n,o=a[Symbol.iterator]();!(s=(n=o.next()).done);s=!0){var c=n.value;e.removeChild(c)}}catch(l){r=!0,i=l}finally{try{s||null==o.return||o.return()}finally{if(r)throw i}}this.props.flot.length=0}catch(l){console.error(l)}},a.randomClick=function(){try{a.props.setUserfield(),a.cleanField(),a.randomLocationShips()}catch(e){console.error(e)}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"randomLocationShips",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,s,r,i,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setState({matrix:this.createMatrix()});case 3:for(t=this.props.shipsData.length,r=1;r<t;r++)for(a=this.props.shipsData[r][0],i=0;i<r;i++)(s=this.getCoordinatesDecks(a)).decks=a,s.shipname=this.props.shipsData[r][1]+String(i+1),(n=new S({x:s.x,y:s.y,dir:s.dir,decks:a,player:this.props.user,field:this.props.field,shipname:s.shipname,shipSize:this.props.shipSize,flot:this.props.flot,matrix:this.state.matrix})).createShip(),n.showShip();this.props.setAppState(this.props.user,"matrix",this.state.matrix),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"createMatrix",value:function(){try{for(var e=[10],t=0;t<10;t++){e[t]=[10];for(var a=0;a<10;a++)e[t][a]=0}return e}catch(s){console.error(s)}}},{key:"getRandom",value:function(e){try{return Math.floor(Math.random()*(e+1))}catch(t){console.error(t)}}},{key:"componentDidUpdate",value:function(){try{var e=this.props.start;void 0!==e&&!0===e&&!1===this.props.gameStarted&&(this.cleanField(),this.randomLocationShips())}catch(t){console.error(t)}}},{key:"render",value:function(){var e;return e="user1"===this.props.user?r.a.createElement("span",{className:"link-random",id:"random"+this.props.playerNum,"data-target":"random","data-hidden":"false",onClick:this.randomClick},"\u0420\u0430\u0441\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0440\u0430\u0431\u043b\u0438"):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{id:"control_btns",className:"control-btns","data-hidden":"false"},e,r.a.createElement("div",{id:"ships_collection",className:"ships-collection"},r.a.createElement("div",{id:"fourdeck1",className:"ship fourdeck"}),r.a.createElement("div",{id:"tripledeck1",className:"ship tripledeck tripledeck1"}),r.a.createElement("div",{id:"tripledeck2",className:"ship tripledeck tripledeck2"}),r.a.createElement("div",{id:"doubledeck1",className:"ship doubledeck"}),r.a.createElement("div",{id:"doubledeck2",className:"ship doubledeck doubledeck2"}),r.a.createElement("div",{id:"doubledeck3",className:"ship doubledeck doubledeck3"}),r.a.createElement("div",{id:"singledeck1",className:"ship singledeck"}),r.a.createElement("div",{id:"singledeck2",className:"ship singledeck singledeck2"}),r.a.createElement("div",{id:"singledeck3",className:"ship singledeck singledeck3"}),r.a.createElement("div",{id:"singledeck4",className:"ship singledeck singledeck4"})))}}]),t}(s.Component),v=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).setUserfield=function(){try{var e=document.querySelector("#field_user"+this.state.playerNum);this.setState({field:e})}catch(t){console.error(t)}}.bind(Object(f.a)(a));var s=a.props,r=s.user,i=s.playerNum,n=s.playerName,c=s.fieldSize,h=s.shipSize;return a.state={user:r,playerNum:i,playerName:n,fieldSize:c,shipSize:h,shipsData:["",[4,"fourdeck"],[3,"tripledeck"],[2,"doubledeck"],[1,"singledeck"]],field:null,fieldX:null,fieldY:null,fieldRight:null,fieldBtm:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setUserfield();case 3:return e.next=5,this.setState({fieldX:this.state.field.getBoundingClientRect().top+window.pageYOffset,fieldY:this.state.field.getBoundingClientRect().left+window.pageXOffset});case 5:return e.next=7,this.setState({fieldRight:this.state.fieldY+this.state.fieldSize,fieldBtm:this.state.fieldX+this.state.fieldSize});case 7:return e.next=9,this.props.setUserPos("user2",this.state.fieldX,this.state.fieldY,this.state.fieldRight,this.state.fieldBtm);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.playerName!==e.playerName&&this.setState({playerName:this.props.playerName})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.playerNum,s=e.playerName,i=e.shipSize,n=e.shipsData,o=e.field;return r.a.createElement("div",{className:"bfield bfield"+a},r.a.createElement("p",{className:"btext btext"+a},"\u0418\u0433\u0440\u043e\u043a ",a,":",r.a.createElement("span",{id:"username"+a}," ",s)),r.a.createElement("div",{className:"field field-user"},r.a.createElement("div",{className:"top-nums"},r.a.createElement("div",{className:"top-num top-num1"},"1"),r.a.createElement("div",{className:"top-num top-num2"},"2"),r.a.createElement("div",{className:"top-num top-num3"},"3"),r.a.createElement("div",{className:"top-num top-num4"},"4"),r.a.createElement("div",{className:"top-num top-num5"},"5"),r.a.createElement("div",{className:"top-num top-num6"},"6"),r.a.createElement("div",{className:"top-num top-num7"},"7"),r.a.createElement("div",{className:"top-num top-num8"},"8"),r.a.createElement("div",{className:"top-num top-num9"},"9"),r.a.createElement("div",{className:"top-num top-num10"},"10")),r.a.createElement("div",{className:"left-nums"},r.a.createElement("div",{className:"left-num left-num1"},"\u0410"),r.a.createElement("div",{className:"left-num left-num2"},"\u0411"),r.a.createElement("div",{className:"left-num left-num3"},"\u0412"),r.a.createElement("div",{className:"left-num left-num4"},"\u0413"),r.a.createElement("div",{className:"left-num left-num5"},"\u0414"),r.a.createElement("div",{className:"left-num left-num6"},"\u0415"),r.a.createElement("div",{className:"left-num left-num7"},"\u0416"),r.a.createElement("div",{className:"left-num left-num8"},"\u0417"),r.a.createElement("div",{className:"left-num left-num9"},"\u0418"),r.a.createElement("div",{className:"left-num left-num10"},"\u041a")),r.a.createElement("div",{id:"field_user"+a,className:"ships"})),r.a.createElement(x,{user:t,playerNum:a,shipSize:i,shipsData:n,field:o,flot:this.props.flot,setUserfield:this.setUserfield,setAppState:this.props.setAppState,start:this.props.start,gameStarted:this.props.gameStarted}))}}]),t}(s.Component),y=void 0,b=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).showIcons=function(e,t,a){var s="user1"===e?"#field_user1":"#field_user2",r=document.querySelector(s),i=document.createElement("div");i.className="icon-field "+a,i.style.cssText="left: ".concat(t.y*this.props.shipSize,"px; \n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: ").concat(t.x*this.props.shipSize,"px;"),r.appendChild(i)},a.setShootMatrix=function(){for(var e=0;e<10;e++)for(var t=0;t<10;t++)this.state.compShootMatrix.push([e,t]);for(var a=0,s=this.state.compStartPoints.length;a<s;a++)for(var r=this.state.compStartPoints[a],i=0,n=r.length;i<n;i++){var o=r[i][0],c=r[i][1];switch(a){case 0:for(;o<=9&&c<=9;)this.state.compShootMatrixAI.push([o,c]),o=o<=9?o:9,c=c<=9?c:9,o++,c++;break;case 1:for(;o>=0&&o<=9&&c<=9;)this.state.compShootMatrixAI.push([o,c]),o=o>=0&&o<=9?o:o<0?0:9,c=c<=9?c:9,o--,c++}}function l(e,t){return Math.random()-.5}this.state.compShootMatrix.sort(l),this.state.compShootMatrixAI.sort(l)},a.getCoordinatesShot=function(){if(this.state.compShootMatrixAround.length>0){var e=this.state.compShootMatrixAround.pop();this.setState({coords:e})}else if(this.state.compShootMatrixAI.length>0){var t=this.state.compShootMatrixAI.pop();this.setState({coords:t})}else{var a=this.state.compShootMatrix.pop();this.setState({coords:a})}var s={x:this.state.coords[0],y:this.state.coords[1]};return 0!==this.state.compShootMatrixAI.length&&y.deleteElementMatrix(this.state.compShootMatrixAI,s),y.deleteElementMatrix(this.state.compShootMatrix,s),s},a.deleteElementMatrix=function(e,t){for(var a=0;a<e.length;a++)if(e[a][0]===t.x&&e[a][1]===t.y){e.splice(a,1);break}},a.resetTempShip=function(){this.setState({compShootMatrixAround:[]}),this.setState((function(e){e.compTempShip.totalHits=0})),this.setState((function(e){e.compTempShip.firstHit={}})),this.setState((function(e){e.compTempShip.nextHit={}})),this.setState((function(e){e.compTempShip.dirx=0})),this.setState((function(e){e.compTempShip.diry=0}))},a.checkMaxDecks=function(){for(var e=[],t=this.state.flotUser1,a=t.length,s=0;s<a;s++)e.push(t[s].state.decks);return Math.max.apply(null,e)},a.markEmptyCell=function(e){for(var t,a=this.state,s=a.matrixUser1,r=a.compShootMatrix,i=a.compShootMatrixAround,n=a.compShootMatrixAI,o=0;o<e.length;o++)(t={x:e[o][0],y:e[o][1]}).x<0||t.x>9||t.y<0||t.y>9||0===s[t.x][t.y]&&(s[t.x][t.y]=2,y.deleteElementMatrix(r,t),0!==i.length&&y.deleteElementMatrix(i,t),0!==n.length&&y.deleteElementMatrix(n,t),y.deleteElementMatrix(r,t))},a.transformCoordinates=function(e){try{var t={};return t.x=Math.trunc((e.pageY-this.props.fieldXUser2)/this.props.shipSize),t.y=Math.trunc((e.pageX-this.props.fieldYUser2)/this.props.shipSize),t}catch(a){console.error(a)}};var s=a.props,r=s.matrixUser1,i=s.matrixUser2,n=s.flotUser1,c=s.flotUser2;return a.state={matrixUser1:r,matrixUser2:i,flotUser1:n,flotUser2:c,curPlayer:null,curEnemy:null,coords:null,compShootMatrix:[],compShootMatrixAI:[],compShootMatrixAround:[],compStartPoints:[[[6,0],[2,0],[0,2],[0,6]],[[3,0],[7,0],[9,2],[9,6]]],compTempShip:{totalHits:0,firstHit:{},nextHit:{},dirx:0,diry:0}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"init",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setGameStarted(),y=this,t=this.getRandom(1),a=0===t?"user1":"user2",e.next=7,this.setState({curPlayer:a});case 7:return s="user1"===this.state.curPlayer?"user2":"user1",e.next=10,this.setState({curEnemy:s});case 10:y.resetTempShip(),y.setShootMatrix(),document.querySelector("#field_user2").addEventListener("click",y.shoot.bind(this)),"user1"===this.state.curPlayer?y.showServiseText("\u0412\u044b \u0441\u0442\u0440\u0435\u043b\u044f\u0435\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u043c."):(y.showServiseText("\u041f\u0435\u0440\u0432\u044b\u043c \u0441\u0442\u0440\u0435\u043b\u044f\u0435\u0442 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440."),setTimeout((function(){return y.shoot()}),1e3)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"shoot",value:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,s,r,i,n,o,c,l,p,h,u,d,f,S,x,v,b,k,g,E=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelector("#field_user2"),void 0===t){e.next=11;break}if("user2"!==this.state.curPlayer){e.next=4;break}return e.abrupt("return");case 4:if(0!==this.state.flotUser1.length&&0!==this.state.flotUser2.length){e.next=6;break}return e.abrupt("return");case 6:s=y.transformCoordinates(t),a=this.state.matrixUser2,i=this.state.flotUser2,e.next=14;break;case 11:s=y.getCoordinatesShot(),a=this.state.matrixUser1,i=this.state.flotUser1;case 14:o=a[s.x][s.y],e.t0=o,e.next=0===e.t0?18:1===e.t0?28:49;break;case 18:return y.showIcons(this.state.curEnemy,s,"dot"),a[s.x][s.y]=3,r="user1"===this.state.curPlayer?"\u0412\u044b \u043f\u0440\u043e\u043c\u0430\u0445\u043d\u0443\u043b\u0438\u0441\u044c. \u0421\u0442\u0440\u0435\u043b\u044f\u0435\u0442 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440.":"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440 \u043f\u0440\u043e\u043c\u0430\u0445\u043d\u0443\u043b\u0441\u044f. \u0412\u0430\u0448 \u0432\u044b\u0441\u0442\u0440\u0435\u043b.",y.showServiseText(r),c="user1"===this.state.curPlayer?"user2":"user1",l="user1"===this.state.curEnemy?"user2":"user1",e.next=26,this.setState({curPlayer:c,curEnemy:l});case 26:return"user2"===this.state.curPlayer&&(0===this.state.compShootMatrixAround.length&&y.resetTempShip(),setTimeout((function(){return y.shoot()}),1e3)),e.abrupt("break",49);case 28:y.showIcons(this.state.curEnemy,s,"red-cross"),a[s.x][s.y]=4,r="user1"===this.state.curPlayer?"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u043f\u043e\u043f\u0430\u043b\u0438. \u0412\u0430\u0448 \u0432\u044b\u0441\u0442\u0440\u0435\u043b.":"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440 \u043f\u043e\u043f\u0430\u043b \u0432 \u0432\u0430\u0448 \u043a\u043e\u0440\u0430\u0431\u043b\u044c. \u0412\u044b\u0441\u0442\u0440\u0435\u043b \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430",y.showServiseText(r),p=i.length-1;case 33:if(!(p>=0)){e.next=47;break}h=i[p],u=h.state.shipMatrix,d=0,f=u.length;case 36:if(!(d<f)){e.next=44;break}if(u[d][0]!==s.x||u[d][1]!==s.y){e.next=41;break}return h.state.hits++,h.state.hits===h.state.decks&&("user2"===this.state.curPlayer&&(this.state.compTempShip.x0=h.state.x,this.state.compTempShip.y0=h.state.y),i.splice(p,1)),e.abrupt("break",44);case 41:d++,e.next=36;break;case 44:p--,e.next=33;break;case 47:return 0===i.length?(r="user1"===this.state.curPlayer?"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438.":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438.",n.removeEventListener("click",y.shoot.bind(this)),y.showServiseText(r+' <a id="one_more_time" href="#" >\u0415\u0449\u0451 \u0440\u0430\u0437!</a>'),document.querySelector("#one_more_time").addEventListener("click",(function(){E.props.setAppState("","start",!1),E.props.setAppState("","gameStarted",!1),document.querySelector("#control_btns").setAttribute("data-hidden",!1),E.showServiseText("");for(var e=document.querySelector("#field_user2");e.firstChild;)e.removeChild(e.firstChild)}))):"user2"===this.state.curPlayer&&(this.state.compTempShip.totalHits++,S=[[s.x-1,s.y-1],[s.x-1,s.y+1],[s.x+1,s.y-1],[s.x+1,s.y+1]],y.markEmptyCell(S),x=y.checkMaxDecks(),this.state.compTempShip.totalHits>=x?(1===this.state.compTempShip.totalHits?S=[[this.state.compTempShip.x0-1,this.state.compTempShip.y0],[this.state.compTempShip.x0+1,this.state.compTempShip.y0],[this.state.compTempShip.x0,this.state.compTempShip.y0-1],[this.state.compTempShip.x0,this.state.compTempShip.y0+1]]:(v=this.state.compTempShip.x0-this.state.compTempShip.dirx,b=this.state.compTempShip.y0-this.state.compTempShip.diry,k=this.state.compTempShip.x0+this.state.compTempShip.dirx*this.state.compTempShip.totalHits,g=this.state.compTempShip.y0+this.state.compTempShip.diry*this.state.compTempShip.totalHits,S=[[v,b],[k,g]]),y.resetTempShip()):y.setShootMatrixAround(),setTimeout((function(){return y.shoot()}),1e3)),e.abrupt("break",49);case 49:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setShootMatrixAround",value:function(){var e=this.state,t=e.compTempShip,a=e.coords,s=e.compShootMatrixAround,r=e.compShootMatrix,i=e.matrixUser1;if(0===t.dirx&&0===t.diry)if(0===Object.keys(t.firstHit).length){var n=a;this.setState((function(e){e.compTempShip.firstHit=n}))}else{var o,c,l;o=a,c=1===Math.abs(t.firstHit[0]-t.nextHit[0])?1:0,l=1===Math.abs(t.firstHit[1]-t.nextHit[1])?1:0,this.setState((function(e){e.compTempShip.nextHit=o})),this.setState((function(e){e.compTempShip.dirx=c})),this.setState((function(e){e.compTempShip.diry=l}))}a[0]>0&&0===t.diry&&this.state.compShootMatrixAround.push([a[0]-1,a[1]]),a[0]<9&&0===t.diry&&this.state.compShootMatrixAround.push([a[0]+1,a[1]]),a[1]>0&&0===t.dirx&&this.state.compShootMatrixAround.push([a[0],a[1]-1]),a[1]<9&&0===t.dirx&&this.state.compShootMatrixAround.push([a[0],a[1]+1]);for(var p=s.length-1;p>=0;p--){var h=s[p][0],u=s[p][1];0!==i[h][u]&&1!==i[h][u]&&(s.splice(p,1),y.deleteElementMatrix(r,a))}0===s.length&&y.resetTempShip()}},{key:"showServiseText",value:function(e){document.getElementById("text_btm").innerHTML=e}},{key:"getRandom",value:function(e){return Math.floor(Math.random()*(e+1))}},{key:"componentDidUpdate",value:function(e){!0===this.props.start&&!1===this.props.gameStarted&&this.init(),this.props.matrixUser1!==e.matrixUser1&&this.setState({matrixUser1:this.props.matrixUser1}),this.props.matrixUser2!==e.matrixUser2&&this.setState({matrixUser2:this.props.matrixUser2}),this.props.flotUser1!==e.flotUser1&&this.setState({flotUser1:this.props.flotUser1}),this.props.flotUser1!==e.flotUser1&&this.setState({flotUser1:this.props.flotUser1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).playClick=function(){try{var e=document.querySelectorAll(".control-btns"),t=!0,s=!1,r=void 0;try{for(var i,n=e[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.setAttribute("data-hidden",!0)}}catch(o){s=!0,r=o}finally{try{t||null==n.return||n.return()}finally{if(s)throw r}}a.props.setStart()}catch(o){console.error(o)}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.start,a=e.gameStarted,s=e.matrixUser1,i=e.flotUser1,n=e.matrixUser2,o=e.fieldXUser2,c=e.fieldYUser2,l=e.flotUser2,p=e.fieldSize,h=e.shipSize,u=e.setAppState,m=e.setGameStarted;return r.a.createElement("div",{className:"control-btns start-btn","data-hidden":"false"},r.a.createElement("span",{id:"play",className:"btn-play","data-hidden":"true",onClick:this.playClick},"\u0418\u0433\u0440\u0430\u0442\u044c"),r.a.createElement(b,{matrixUser1:s,matrixUser2:n,fieldXUser2:o,fieldYUser2:c,flotUser1:i,flotUser2:l,fieldSize:p,shipSize:h,start:t,gameStarted:a,setAppState:u,setGameStarted:m}))}}]),t}(s.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ruls"},r.a.createElement("p",null,"\u041a\u0430\u043a \u0438\u0433\u0440\u0430\u0442\u044c: ",r.a.createElement("br",null),'1. \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0440\u0430\u0431\u043b\u0438 \u043d\u0430 \u043f\u043e\u043b\u0435 \u043f\u043e \u043a\u043d\u043e\u043f\u043a\u0435 "\u0420\u0430\u0441\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0440\u0430\u0431\u043b\u0438"',r.a.createElement("br",null),'2. \u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0430\u0442\u044c \u043f\u043e \u043a\u043d\u043e\u043f\u043a\u0435 "\u0418\u0433\u0440\u0430\u0442\u044c"',r.a.createElement("br",null),"3. \u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u0440\u0430\u0431\u043b\u0438 \u0438\u0433\u0440\u043e\u043a\u0430 2"))}}]),t}(s.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.value&&this.props.setAppState("user1","playerName",this.state.value),document.querySelector("#popup").setAttribute("data-hidden",!0)}},{key:"render",value:function(){return r.a.createElement("div",{id:"popup",className:"popup","data-hidden":"false"},r.a.createElement("div",{className:"popup-wrap"},r.a.createElement("h3",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430 1"),r.a.createElement("form",{action:"post",onSubmit:this.handleChange},r.a.createElement("input",{id:"popup_txt",type:"text",placeholder:"",onChange:this.handleChange,value:this.state.value}),r.a.createElement("input",{id:"popup_submit",type:"button",value:"OK",onClick:this.handleSubmit}))))}}]),t}(s.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={start:!1,gameStarted:!1,fieldSize:330,shipSize:33,user1name:"user1",user1id:"1",user1playerName:"\u042e\u0437\u0435\u0440",user1matrix:null,user1fieldX:null,user1fieldY:null,user1fieldRight:null,user1fieldBtm:null,user1flot:[],user2name:"user2",user2id:"2",user2playerName:"\u041a\u043e\u043c\u043f",user2matrix:null,user2fieldX:null,user2fieldY:null,user2fieldRight:null,user2fieldBtm:null,user2flot:[]},a.setStart=function(){try{!1===a.state.start&&a.setState({start:!0})}catch(e){console.error(e)}},a.setGameStarted=function(){try{!1===a.state.gameStarted&&a.setState({gameStarted:!0})}catch(e){console.error(e)}},a.setAppState=function(e,t,s){try{var r=e+t;a.setState(Object(n.a)({},r,s))}catch(i){console.error(i)}},a.setUserPos=function(e,t,s,r,i){try{"user2"===e&&a.setState({user2fieldX:t,user2fieldY:s,user2fieldRight:r,user2fieldBtm:i})}catch(n){console.error(n)}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.start,a=e.gameStarted,s=e.user1name,i=e.user1id,n=e.user1playerName,o=e.user1matrix,c=e.user1flot,l=e.user2name,p=e.user2id,h=e.user2playerName,u=e.user2matrix,m=e.user2fieldX,d=e.user2fieldY,f=e.user2flot,S=e.fieldSize,x=e.shipSize;return r.a.createElement("div",{className:"wrap"},r.a.createElement("h3",{id:"text_top",className:"text-top"},'\u0418\u0433\u0440\u0430 "\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"'),r.a.createElement("div",{className:"field-wrap"},r.a.createElement(v,{user:s,playerNum:i,playerName:n,flot:c,fieldSize:S,shipSize:x,setAppState:this.setAppState,setUserPos:this.setUserPos}),r.a.createElement(v,{user:l,playerNum:p,playerName:h,flot:f,fieldSize:S,shipSize:x,setAppState:this.setAppState,setUserPos:this.setUserPos,start:t,gameStarted:a})),r.a.createElement(k,{matrixUser1:o,matrixUser2:u,fieldXUser2:m,fieldYUser2:d,flotUser1:c,flotUser2:f,fieldSize:S,shipSize:x,start:t,gameStarted:a,setStart:this.setStart,setGameStarted:this.setGameStarted,setAppState:this.setAppState}),r.a.createElement("div",{id:"text_btm",className:"text-btm"}),r.a.createElement(g,null),r.a.createElement(E,{setAppState:this.setAppState}))}}]),t}(s.Component);Object(i.render)(r.a.createElement(N,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.6598bb14.chunk.js.map